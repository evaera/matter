<!doctype html>
<html lang="en" dir="ltr" class="plugin-moonwave plugin-id-moonwave">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<title data-rh="true">Matter | matter</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://eryn.io/matter/api/Matter"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Matter | matter"><meta data-rh="true" name="description" content="Matter. It&#x27;s what everything is made out of."><meta data-rh="true" property="og:description" content="Matter. It&#x27;s what everything is made out of."><link data-rh="true" rel="canonical" href="https://eryn.io/matter/api/Matter"><link data-rh="true" rel="alternate" href="https://eryn.io/matter/api/Matter" hreflang="en"><link data-rh="true" rel="alternate" href="https://eryn.io/matter/api/Matter" hreflang="x-default"><link rel="stylesheet" href="/matter/assets/css/styles.c025533e.css">
<link rel="preload" href="/matter/assets/js/runtime~main.fb662bb0.js" as="script">
<link rel="preload" href="/matter/assets/js/main.60a64e8e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/matter/"><div class="navbar__logo"><img src="/matter/logo.svg" alt="Matter" class="themedImage_ToTc themedImage--light_HNdA"><img src="/matter/logo.svg" alt="Matter" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/matter/docs/intro">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/matter/api/">API</a><a class="navbar__item navbar__link" href="/matter/changelog">Changelog</a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/aQwDAYhqtJ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Roblox Open Source Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://patreon.com/erynlynn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support on Patreon<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/evaera/matter" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Press S to Search..." aria-label="Search" class="navbar__search-input search-bar"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docPageContainer_wNNk"><div class="docPage_Dpn1"><div class="docSidebarContainer_o_re"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/matter/api/Matter">​Matter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/matter/api/World">​World</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/matter/api/QueryResult">​Query​Result</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/matter/api/Loop">​Loop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/matter/api/Component">​Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/matter/api/Debugger">​Debugger</a></li></ul></nav></div></div><main class="docMainContainer_HJE1"><div class="container padding-vert--lg"><div class="row"><div class="col docItemCol_MU3C"><div class="docItemContainer_Wv98"><article><div class="member_J0w1 markdown"><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_oUs_"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><header><h1 class="docTitle_mZRt" style="text-decoration:none"><span style="display:inline-block">Matter</span></h1><div class="luaClassTags_EipM"></div><div>
<p>Matter. It's what everything is made out of.</p>
</div></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="types">Types<a class="hash-link" href="#types" title="Direct link to heading">​</a></h2><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ConnectionObject"><code style="text-decoration:none">ConnectionObject</code><a class="hash-link" href="#ConnectionObject" title="Direct link to heading">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/evaera/matter/blob/main/lib/hooks/useEvent.lua#L84"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code class="purple_ieR2">type</code> <code>ConnectionObject<!-- --> = </code> <code class="purple_ieR2">{</code><div class="inset_uKQm"><code>Disconnect<!-- -->: </code><code class="green_DgR4">(</code><code class="yellow_QJap">(</code><code class="yellow_QJap">)</code><code class="yellow_QJap"> → </code><code class="yellow_QJap">(</code><code class="yellow_QJap">)</code><code class="green_DgR4">)</code><code class="blue_P4bS">?</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>Destroy<!-- -->: </code><code class="green_DgR4">(</code><code class="yellow_QJap">(</code><code class="yellow_QJap">)</code><code class="op_lSLc">-</code><code class="op_lSLc">&gt;</code><code class="yellow_QJap">(</code><code class="yellow_QJap">)</code><code class="green_DgR4">)</code><code class="blue_P4bS">?</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>disconnect<!-- -->: </code><code class="green_DgR4">(</code><code class="yellow_QJap">(</code><code class="yellow_QJap">)</code><code class="yellow_QJap"> → </code><code class="yellow_QJap">(</code><code class="yellow_QJap">)</code><code class="green_DgR4">)</code><code class="blue_P4bS">?</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>destroy<!-- -->: </code><code class="green_DgR4">(</code><code class="yellow_QJap">(</code><code class="yellow_QJap">)</code><code class="yellow_QJap"> → </code><code class="yellow_QJap">(</code><code class="yellow_QJap">)</code><code class="green_DgR4">)</code><code class="blue_P4bS">?</code></div><code class="purple_ieR2">}</code><code class="op_lSLc"> | </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code></div><div>
<p>A connection object returned by a custom event must be either a table with any of the following methods, or a cleanup function.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="CustomEvent"><code style="text-decoration:none">CustomEvent</code><a class="hash-link" href="#CustomEvent" title="Direct link to heading">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/evaera/matter/blob/main/lib/hooks/useEvent.lua#L94"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code class="purple_ieR2">interface</code> <code>CustomEvent<!-- --> <!-- -->{</code><div class="inset_uKQm"><div><code>Connect<!-- -->: </code><code class="purple_ieR2">(</code><code class="green_DgR4">(</code><code class="blue_P4bS">...</code><code class="green_DgR4">)</code><code class="green_DgR4"> → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/matter/api/Matter#ConnectionObject">ConnectionObject</a></code><code class="purple_ieR2">)</code><code class="blue_P4bS">?</code></div><div><code>on<!-- -->: </code><code class="purple_ieR2">(</code><code class="green_DgR4">(</code><code class="blue_P4bS">...</code><code class="green_DgR4">)</code><code class="green_DgR4"> → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/matter/api/Matter#ConnectionObject">ConnectionObject</a></code><code class="purple_ieR2">)</code><code class="blue_P4bS">?</code></div><div><code>connect<!-- -->: </code><code class="purple_ieR2">(</code><code class="green_DgR4">(</code><code class="blue_P4bS">...</code><code class="green_DgR4">)</code><code class="green_DgR4"> → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/matter/api/Matter#ConnectionObject">ConnectionObject</a></code><code class="purple_ieR2">)</code><code class="blue_P4bS">?</code></div></div><code>}</code></div><div>
<p>A custom event must have any of these 3 methods.</p>
</div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="properties">Properties<a class="hash-link" href="#properties" title="Direct link to heading">​</a></h2><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="World"><code style="text-decoration:none">World</code><a class="hash-link" href="#World" title="Direct link to heading">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/evaera/matter/blob/main/lib/init.lua#L11"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Matter<!-- -->.<!-- -->World<!-- -->:<!-- --> </code> <code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/matter/api/World">World</a></code></div><div></div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Loop"><code style="text-decoration:none">Loop</code><a class="hash-link" href="#Loop" title="Direct link to heading">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/evaera/matter/blob/main/lib/init.lua#L16"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Matter<!-- -->.<!-- -->Loop<!-- -->:<!-- --> </code> <code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/matter/api/Loop">Loop</a></code></div><div></div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Debugger"><code style="text-decoration:none">Debugger</code><a class="hash-link" href="#Debugger" title="Direct link to heading">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/evaera/matter/blob/main/lib/init.lua#L21"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Matter<!-- -->.<!-- -->Debugger<!-- -->:<!-- --> </code> <code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/matter/api/Debugger">Debugger</a></code></div><div></div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="None"><code style="text-decoration:none">None</code><a class="hash-link" href="#None" title="Direct link to heading">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/evaera/matter/blob/main/lib/init.lua#L30"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Matter<!-- -->.<!-- -->None<!-- -->:<!-- --> </code> <code class="blue_P4bS">None</code></div><div>
<p>A value should be interpreted as nil when merging dictionaries.</p>
<p><code>Matter.None</code> is used by <a href="/matter/api/Component#patch"><code>Component:patch</code></a>.</p>
</div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="functions">Functions<a class="hash-link" href="#functions" title="Direct link to heading">​</a></h2><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="useDeltaTime"><code style="text-decoration:none">useDeltaTime</code><a class="hash-link" href="#useDeltaTime" title="Direct link to heading">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/evaera/matter/blob/main/lib/hooks/useDeltaTime.lua#L12"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Matter<!-- -->.</code><code class="green_DgR4">useDeltaTime</code><code>(</code><code>) → </code><code class="blue_P4bS">number</code></div><div>
<div class="admonition admonition-info alert alert--info">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
          <path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path>
        </svg></span>Topologically-aware function</h5>
  </div>
  <div class="admonition-content">
    <p>This function is only usable if called within the context of <a href="/matter/api/Loop#begin"><code>Loop:begin</code></a>.</p>
  </div>
</div>
<p>Returns the <code>os.clock()</code> time delta between the start of this and last frame.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="useEvent"><code style="text-decoration:none">useEvent</code><a class="hash-link" href="#useEvent" title="Direct link to heading">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/evaera/matter/blob/main/lib/hooks/useEvent.lua#L160"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Matter<!-- -->.</code><code class="green_DgR4">useEvent</code><code>(</code><div class="inset_uKQm"><div><code>instance<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="https://developer.roblox.com/en-us/api-reference/datatype/Instance" target="_blank" rel="noopener noreferrer">Instance<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" style="color:gray;vertical-align:middle;margin-left:2px"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></code><code class="op_lSLc"> | </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/matter/api/Matter#CustomEvent">CustomEvent</a></code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>The instance or a custom event that has the event you want to connect to</p>
</span></span></div><div><code>event<!-- -->: </code><code class="blue_P4bS">string</code><code class="op_lSLc"> | </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="https://developer.roblox.com/en-us/api-reference/datatype/RBXScriptSignal" target="_blank" rel="noopener noreferrer">RBXScriptSignal<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" style="color:gray;vertical-align:middle;margin-left:2px"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></code><span class="inlineDescription_G7Er">-- <span>
<p>The name of or actual event that you want to connect to</p>
</span></span></div></div><code>) → </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="purple_ieR2">(</code><div class="inset_uKQm"><code class="blue_P4bS">number</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code class="blue_P4bS">...any</code></div><code class="purple_ieR2">)</code></div><div>
<div class="admonition admonition-info alert alert--info">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
          <path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path>
        </svg></span>Topologically-aware function</h5>
  </div>
  <div class="admonition-content">
    <p>This function is only usable if called within the context of <a href="/matter/api/Loop#begin"><code>Loop:begin</code></a>.</p>
  </div>
</div>
<p>Collects events that fire during the frame and allows iteration over event arguments.</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">for</span> _<span class="token punctuation">,</span> player <span class="token keyword">in</span> <span class="token function">ipairs</span><span class="token punctuation">(</span>Players<span class="token punctuation">:</span><span class="token function">GetPlayers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">do</span>
	<span class="token keyword">for</span> i<span class="token punctuation">,</span> character <span class="token keyword">in</span> <span class="token function">useEvent</span><span class="token punctuation">(</span>player<span class="token punctuation">,</span> <span class="token string">"CharacterAdded"</span><span class="token punctuation">)</span> <span class="token keyword">do</span>
		world<span class="token punctuation">:</span><span class="token function">spawn</span><span class="token punctuation">(</span>
			Components<span class="token punctuation">.</span><span class="token function">Target</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			Components<span class="token punctuation">.</span><span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
				model <span class="token operator">=</span> character<span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">)</span>
	<span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>
<p>
  Returns an iterator function that returns an ever-increasing number, starting at 1, followed by any event arguments
  from the specified event.
</p>
<p>Events are returned in the order that they were fired.</p>
<div class="admonition admonition-caution alert alert--warning">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
          <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
        </svg></span>caution</h5>
  </div>
  <div class="admonition-content">
    <p>
      <code>useEvent</code> keys storage uniquely identified by <strong>the script and line number</strong> <code>useEvent</code> was called from, and the
      first parameter (instance). If the second parameter, <code>event</code>, is not equal to the event passed in for this unique
      storage last frame, the old event is disconnected from and the new one is connected in its place.
    </p>
    <p>
      Tl;dr: on a given line, you should hard-code a single event to connect to. Do not dynamically change the event with
      a variable. Dynamically changing the first parameter (instance) is fine.
    </p>
    <pre class="language-lua"><code class="language-lua"><span class="token keyword">for</span> _<span class="token punctuation">,</span> instance <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>someTable<span class="token punctuation">)</span> <span class="token keyword">do</span>
	<span class="token keyword">for</span> i<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2 <span class="token keyword">in</span> <span class="token function">useEvent</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> <span class="token string">"Touched"</span><span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token comment">-- This is ok</span>
	<span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token keyword">for</span> _<span class="token punctuation">,</span> instance <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>someTable<span class="token punctuation">)</span> <span class="token keyword">do</span>
	<span class="token keyword">local</span> event <span class="token operator">=</span> <span class="token function">getEventSomehow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> i<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2 <span class="token keyword">in</span> <span class="token function">useEvent</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> event<span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token comment">-- PANIC! This is NOT OK</span>
	<span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>
  </div>
</div>
<p>
  If <code>useEvent</code> ceases to be called on the same line with the same instance and event, the event connection is
  disconnected from automatically.
</p>
<p>You can also pass the actual event object instead of its name as the second parameter:</p>
<pre class="language-lua"><code class="language-lua"><span class="token function">useEvent</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> instance<span class="token punctuation">.</span>Touched<span class="token punctuation">)</span>
<span class="token function">useEvent</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> instance<span class="token punctuation">:</span><span class="token function">GetPropertyChangedSignal</span><span class="token punctuation">(</span><span class="token string">"Name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>
  <code>useEvent</code> supports custom events as well, so you can pass in an object with a <code>Connect</code>, <code>connect</code> or <code>on</code> method.
  The object returned by any event must either be a cleanup function, or a table with a <code>Disconnect</code> or a <code>Destroy</code>
  method, so that <code>useEvent</code> can later clean it up when needed. See <a href="/matter/api/Matter#ConnectionObject">ConnectionObject</a> for more information.
</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="useThrottle"><code style="text-decoration:none">useThrottle</code><a class="hash-link" href="#useThrottle" title="Direct link to heading">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/evaera/matter/blob/main/lib/hooks/useThrottle.lua#L39"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Matter<!-- -->.</code><code class="green_DgR4">useThrottle</code><code>(</code><div class="inset_uKQm"><div><code>seconds<!-- -->: </code><code class="blue_P4bS">number</code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>The number of seconds to throttle for</p>
</span></span></div><div><code>discriminator?<!-- -->: </code><code class="blue_P4bS">any</code><span class="inlineDescription_G7Er">-- <span>
<p>A unique value to additionally key by</p>
</span></span></div></div><code>) → </code><code class="blue_P4bS">boolean</code><span class="inlineDescription_G7Er">-- <span>
<p>returns true every x seconds, otherwise false</p>
</span></span></div><div>
<div class="admonition admonition-info alert alert--info">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
          <path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path>
        </svg></span>Topologically-aware function</h5>
  </div>
  <div class="admonition-content">
    <p>This function is only usable if called within the context of <a href="/matter/api/Loop#begin"><code>Loop:begin</code></a>.</p>
  </div>
</div>
<p>Utility for easy time-based throttling.</p>
<p>
  Accepts a duration, and returns <code>true</code> if it has been that long since the last time this function returned <code>true</code>.
  Always returns <code>true</code> the first time.
</p>
<p>
  This function returns unique results keyed by script and line number. Additionally, uniqueness can be keyed by a
  unique value, which is passed as a second parameter. This is useful when iterating over a query result, as you can
  throttle doing something to each entity individually.
</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">if</span> <span class="token function">useThrottle</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">then</span> <span class="token comment">-- Keyed by script and line number only</span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"only prints every second"</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">for</span> id<span class="token punctuation">,</span> enemy <span class="token keyword">in</span> world<span class="token punctuation">:</span><span class="token function">query</span><span class="token punctuation">(</span>Enemy<span class="token punctuation">)</span> <span class="token keyword">do</span>
	<span class="token keyword">if</span> <span class="token function">useThrottle</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span> <span class="token keyword">then</span> <span class="token comment">-- Keyed by script, line number, and the entity id</span>
		<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Recalculate target..."</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="component"><code style="text-decoration:none">component</code><a class="hash-link" href="#component" title="Direct link to heading">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/evaera/matter/blob/main/lib/init.lua#L54"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Matter<!-- -->.</code><code class="green_DgR4">component</code><code>(</code><div class="inset_uKQm"><div><code>name?<!-- -->: </code><code class="blue_P4bS">string</code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>Optional name for debugging purposes</p>
</span></span></div><div><code>defaultData?<!-- -->: </code><code class="purple_ieR2">{</code><code class="purple_ieR2">}</code><span class="inlineDescription_G7Er">-- <span>
<p>Default data that will be merged with data passed to the component when created</p>
</span></span></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/matter/api/Component">Component</a></code><span class="inlineDescription_G7Er">-- <span>
<p>Your new type of component</p>
</span></span></div><div>
<p>Creates a new type of component. Call the component as a function to create an instance of that component.</p>
<p>
  If <code>defaultData</code> is specified, it will be merged with data passed to the component when the component instance is
  created. Note that this is not <em>fallback</em> data: if you later remove a field from a component instance that is
  specified in the default data, it won't fall back to the value specified in default data.
</p>
<pre class="language-lua"><code class="language-lua"><span class="token comment">-- Component:</span>
<span class="token keyword">local</span> MyComponent <span class="token operator">=</span> Matter<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">"My component"</span><span class="token punctuation">)</span>

<span class="token comment">-- component instance:</span>
<span class="token keyword">local</span> myComponentInstance <span class="token operator">=</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	some <span class="token operator">=</span> <span class="token string">"data"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="useHookState"><code style="text-decoration:none">useHookState</code><a class="hash-link" href="#useHookState" title="Direct link to heading">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/evaera/matter/blob/main/lib/topoRuntime.lua#L118"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Matter<!-- -->.</code><code class="green_DgR4">useHookState</code><code>(</code><div class="inset_uKQm"><div><code>discriminator?<!-- -->: </code><code class="blue_P4bS">any</code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>A unique value to additionally key by</p>
</span></span></div><div><code>cleanupCallback<!-- -->: </code><code class="purple_ieR2">(</code><code>storage<!-- -->: </code><code class="green_DgR4">{</code><code class="green_DgR4">}</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">boolean?</code><span class="inlineDescription_G7Er">-- <span>
<p>A function to run when the storage for this hook is cleaned up</p>
</span></span></div></div><code>) → </code><code class="purple_ieR2">{</code><code class="purple_ieR2">}</code></div><div>
<div class="admonition admonition-tip alert alert--success">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path>
        </svg></span>tip</h5>
  </div>
  <div class="admonition-content">
    <p><strong>Don't use this function directly in your systems.</strong></p>
    <p>
      This function is used for implementing your own topologically-aware functions. It should not be used in your
      systems directly. You should use this function to implement your own utilities, similar to <code>useEvent</code> and
      <code>useThrottle</code>.
    </p>
  </div>
</div>
<p>
  <code>useHookState</code> does one thing: it returns a table. An empty, pristine table. Here's the cool thing though:
  it always returns the <em>same</em> table, based on the script and line where <em>your function</em> (the function calling
  <code>useHookState</code>) was called.
</p>
<h3>Uniqueness</h3>
<p>
  If your function is called multiple times from the same line, perhaps within a loop, the default behavior of
  <code>useHookState</code> is to uniquely identify these by call count, and will return a unique table for each call.
</p>
<p>
  However, you can override this behavior: you can choose to key by any other value. This means that in addition to
  script and line number, the storage will also only return the same table if the unique value (otherwise known as the
  "discriminator") is the same.
</p>
<h3>Cleaning up</h3>
<p>
  As a second optional parameter, you can pass a function that is automatically invoked when your storage is about
  to be cleaned up. This happens when your function (and by extension, <code>useHookState</code>) ceases to be called again
  next frame (keyed by script, line number, and discriminator).
</p>
<p>
  Your cleanup callback is passed the storage table that's about to be cleaned up. You can then perform cleanup work,
  like disconnecting events.
</p>
<p>
  <em>Or</em>, you could return <code>true</code>, and abort cleaning up altogether. If you abort cleanup, your storage will stick
  around another frame (even if your function wasn't called again). This can be used when you know that the user will
  (or might) eventually call your function again, even if they didn't this frame. (For example, caching a value for
  a number of seconds).
</p>
<p>
  If cleanup is aborted, your cleanup function will continue to be called every frame, until you don't abort cleanup,
  or the user actually calls your function again.
</p>
<h3>Example: useThrottle</h3>
<p>This is the entire implementation of the built-in <code>useThrottle</code> function:</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">cleanup</span><span class="token punctuation">(</span>storage<span class="token punctuation">)</span>
	<span class="token keyword">return</span> os<span class="token punctuation">.</span><span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&#x3C;</span> storage<span class="token punctuation">.</span>expiry
<span class="token keyword">end</span>

<span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">useThrottle</span><span class="token punctuation">(</span>seconds<span class="token punctuation">,</span> discriminator<span class="token punctuation">)</span>
	<span class="token keyword">local</span> storage <span class="token operator">=</span> <span class="token function">useHookState</span><span class="token punctuation">(</span>discriminator<span class="token punctuation">,</span> cleanup<span class="token punctuation">)</span>

	<span class="token keyword">if</span> storage<span class="token punctuation">.</span>time <span class="token operator">==</span> <span class="token keyword">nil</span> <span class="token keyword">or</span> os<span class="token punctuation">.</span><span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> storage<span class="token punctuation">.</span>time <span class="token operator">>=</span> seconds <span class="token keyword">then</span>
		storage<span class="token punctuation">.</span>time <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		storage<span class="token punctuation">.</span>expiry <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> seconds
		<span class="token keyword">return</span> <span class="token keyword">true</span>
	<span class="token keyword">end</span>

	<span class="token keyword">return</span> <span class="token keyword">false</span>
<span class="token keyword">end</span>
</code></pre>
<p>A lot of talk for something so simple, right?</p>
</div></div></article></div><details><summary>Show raw api</summary><pre style="max-width:100%;white-space:pre-wrap">{
    &quot;functions&quot;: [
        {
            &quot;name&quot;: &quot;useDeltaTime&quot;,
            &quot;desc&quot;: &quot;:::info Topologically-aware function\nThis function is only usable if called within the context of [`Loop:begin`](/api/Loop#begin).\n:::\n\nReturns the `os.clock()` time delta between the start of this and last frame.&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;number\n&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 12,
                &quot;path&quot;: &quot;lib/hooks/useDeltaTime.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;useEvent&quot;,
            &quot;desc&quot;: &quot;:::info Topologically-aware function\nThis function is only usable if called within the context of [`Loop:begin`](/api/Loop#begin).\n:::\n\nCollects events that fire during the frame and allows iteration over event arguments.\n\n```lua\nfor _, player in ipairs(Players:GetPlayers()) do\n\tfor i, character in useEvent(player, \&quot;CharacterAdded\&quot;) do\n\t\tworld:spawn(\n\t\t\tComponents.Target(),\n\t\t\tComponents.Model({\n\t\t\t\tmodel = character,\n\t\t\t})\n\t\t)\n\tend\nend\n```\n\nReturns an iterator function that returns an ever-increasing number, starting at 1, followed by any event arguments\nfrom the specified event.\n\nEvents are returned in the order that they were fired.\n\n:::caution\n`useEvent` keys storage uniquely identified by **the script and line number** `useEvent` was called from, and the\nfirst parameter (instance). If the second parameter, `event`, is not equal to the event passed in for this unique\nstorage last frame, the old event is disconnected from and the new one is connected in its place.\n\nTl;dr: on a given line, you should hard-code a single event to connect to. Do not dynamically change the event with\na variable. Dynamically changing the first parameter (instance) is fine.\n\n```lua\nfor _, instance in pairs(someTable) do\n\tfor i, arg1, arg2 in useEvent(instance, \&quot;Touched\&quot;) do -- This is ok\n\tend\nend\n\nfor _, instance in pairs(someTable) do\n\tlocal event = getEventSomehow()\n\tfor i, arg1, arg2 in useEvent(instance, event) do -- PANIC! This is NOT OK\n\tend\nend\n```\n:::\n\nIf `useEvent` ceases to be called on the same line with the same instance and event, the event connection is\ndisconnected from automatically.\n\nYou can also pass the actual event object instead of its name as the second parameter:\n\n```lua\nuseEvent(instance, instance.Touched)\nuseEvent(instance, instance:GetPropertyChangedSignal(\&quot;Name\&quot;))\n```\n\n`useEvent` supports custom events as well, so you can pass in an object with a `Connect`, `connect` or `on` method.\nThe object returned by any event must either be a cleanup function, or a table with a `Disconnect` or a `Destroy`\nmethod, so that `useEvent` can later clean it up when needed. See [ConnectionObject] for more information.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;instance&quot;,
                    &quot;desc&quot;: &quot;The instance or a custom event that has the event you want to connect to&quot;,
                    &quot;lua_type&quot;: &quot;Instance | CustomEvent&quot;
                },
                {
                    &quot;name&quot;: &quot;event&quot;,
                    &quot;desc&quot;: &quot;The name of or actual event that you want to connect to&quot;,
                    &quot;lua_type&quot;: &quot;string | RBXScriptSignal&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;() -&gt; (number, ...any)\n&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 160,
                &quot;path&quot;: &quot;lib/hooks/useEvent.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;useThrottle&quot;,
            &quot;desc&quot;: &quot;:::info Topologically-aware function\nThis function is only usable if called within the context of [`Loop:begin`](/api/Loop#begin).\n:::\n\nUtility for easy time-based throttling.\n\nAccepts a duration, and returns `true` if it has been that long since the last time this function returned `true`.\nAlways returns `true` the first time.\n\nThis function returns unique results keyed by script and line number. Additionally, uniqueness can be keyed by a\nunique value, which is passed as a second parameter. This is useful when iterating over a query result, as you can\nthrottle doing something to each entity individually.\n\n```lua\nif useThrottle(1) then -- Keyed by script and line number only\n\tprint(\&quot;only prints every second\&quot;)\nend\n\nfor id, enemy in world:query(Enemy) do\n\tif useThrottle(5, id) then -- Keyed by script, line number, and the entity id\n\t\tprint(\&quot;Recalculate target...\&quot;)\n\tend\nend\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;seconds&quot;,
                    &quot;desc&quot;: &quot;The number of seconds to throttle for&quot;,
                    &quot;lua_type&quot;: &quot;number&quot;
                },
                {
                    &quot;name&quot;: &quot;discriminator?&quot;,
                    &quot;desc&quot;: &quot;A unique value to additionally key by&quot;,
                    &quot;lua_type&quot;: &quot;any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;returns true every x seconds, otherwise false&quot;,
                    &quot;lua_type&quot;: &quot;boolean&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 39,
                &quot;path&quot;: &quot;lib/hooks/useThrottle.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;component&quot;,
            &quot;desc&quot;: &quot;Creates a new type of component. Call the component as a function to create an instance of that component.\n\nIf `defaultData` is specified, it will be merged with data passed to the component when the component instance is\ncreated. Note that this is not *fallback* data: if you later remove a field from a component instance that is\nspecified in the default data, it won&#x27;t fall back to the value specified in default data.\n\n```lua\n-- Component:\nlocal MyComponent = Matter.component(\&quot;My component\&quot;)\n\n-- component instance:\nlocal myComponentInstance = MyComponent({\n\tsome = \&quot;data\&quot;\n})\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;name?&quot;,
                    &quot;desc&quot;: &quot;Optional name for debugging purposes&quot;,
                    &quot;lua_type&quot;: &quot;string&quot;
                },
                {
                    &quot;name&quot;: &quot;defaultData?&quot;,
                    &quot;desc&quot;: &quot;Default data that will be merged with data passed to the component when created&quot;,
                    &quot;lua_type&quot;: &quot;{}&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;Your new type of component&quot;,
                    &quot;lua_type&quot;: &quot;Component&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 54,
                &quot;path&quot;: &quot;lib/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;useHookState&quot;,
            &quot;desc&quot;: &quot;:::tip\n**Don&#x27;t use this function directly in your systems.**\n\nThis function is used for implementing your own topologically-aware functions. It should not be used in your\nsystems directly. You should use this function to implement your own utilities, similar to `useEvent` and\n`useThrottle`.\n:::\n\n`useHookState` does one thing: it returns a table. An empty, pristine table. Here&#x27;s the cool thing though:\nit always returns the *same* table, based on the script and line where *your function* (the function calling\n`useHookState`) was called.\n\n### Uniqueness\n\nIf your function is called multiple times from the same line, perhaps within a loop, the default behavior of\n`useHookState` is to uniquely identify these by call count, and will return a unique table for each call.\n\nHowever, you can override this behavior: you can choose to key by any other value. This means that in addition to\nscript and line number, the storage will also only return the same table if the unique value (otherwise known as the\n\&quot;discriminator\&quot;) is the same.\n\n### Cleaning up\nAs a second optional parameter, you can pass a function that is automatically invoked when your storage is about\nto be cleaned up. This happens when your function (and by extension, `useHookState`) ceases to be called again\nnext frame (keyed by script, line number, and discriminator).\n\nYour cleanup callback is passed the storage table that&#x27;s about to be cleaned up. You can then perform cleanup work,\nlike disconnecting events.\n\n*Or*, you could return `true`, and abort cleaning up altogether. If you abort cleanup, your storage will stick\naround another frame (even if your function wasn&#x27;t called again). This can be used when you know that the user will\n(or might) eventually call your function again, even if they didn&#x27;t this frame. (For example, caching a value for\na number of seconds).\n\nIf cleanup is aborted, your cleanup function will continue to be called every frame, until you don&#x27;t abort cleanup,\nor the user actually calls your function again.\n\n### Example: useThrottle\n\nThis is the entire implementation of the built-in `useThrottle` function:\n\n```lua\nlocal function cleanup(storage)\n\treturn os.clock() &lt; storage.expiry\nend\n\nlocal function useThrottle(seconds, discriminator)\n\tlocal storage = useHookState(discriminator, cleanup)\n\n\tif storage.time == nil or os.clock() - storage.time &gt;= seconds then\n\t\tstorage.time = os.clock()\n\t\tstorage.expiry = os.clock() + seconds\n\t\treturn true\n\tend\n\n\treturn false\nend\n```\n\nA lot of talk for something so simple, right?&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;discriminator?&quot;,
                    &quot;desc&quot;: &quot;A unique value to additionally key by&quot;,
                    &quot;lua_type&quot;: &quot;any&quot;
                },
                {
                    &quot;name&quot;: &quot;cleanupCallback&quot;,
                    &quot;desc&quot;: &quot;A function to run when the storage for this hook is cleaned up&quot;,
                    &quot;lua_type&quot;: &quot;(storage: {}) -&gt; boolean?&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;{}\n&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 118,
                &quot;path&quot;: &quot;lib/topoRuntime.lua&quot;
            }
        }
    ],
    &quot;properties&quot;: [
        {
            &quot;name&quot;: &quot;World&quot;,
            &quot;desc&quot;: &quot;&quot;,
            &quot;lua_type&quot;: &quot;World&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 11,
                &quot;path&quot;: &quot;lib/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Loop&quot;,
            &quot;desc&quot;: &quot;&quot;,
            &quot;lua_type&quot;: &quot;Loop&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 16,
                &quot;path&quot;: &quot;lib/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Debugger&quot;,
            &quot;desc&quot;: &quot;&quot;,
            &quot;lua_type&quot;: &quot;Debugger&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 21,
                &quot;path&quot;: &quot;lib/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;None&quot;,
            &quot;desc&quot;: &quot;A value should be interpreted as nil when merging dictionaries.\n\n`Matter.None` is used by [`Component:patch`](/api/Component#patch).&quot;,
            &quot;lua_type&quot;: &quot;None&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 30,
                &quot;path&quot;: &quot;lib/init.lua&quot;
            }
        }
    ],
    &quot;types&quot;: [
        {
            &quot;name&quot;: &quot;ConnectionObject&quot;,
            &quot;desc&quot;: &quot;A connection object returned by a custom event must be either a table with any of the following methods, or a cleanup function.&quot;,
            &quot;lua_type&quot;: &quot;{Disconnect: (() -&gt; ())?, Destroy: (() - &gt;())?, disconnect: (() -&gt; ())?, destroy: (() -&gt; ())?} | () -&gt; ()&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 84,
                &quot;path&quot;: &quot;lib/hooks/useEvent.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;CustomEvent&quot;,
            &quot;desc&quot;: &quot;A custom event must have any of these 3 methods.&quot;,
            &quot;fields&quot;: [
                {
                    &quot;name&quot;: &quot;Connect&quot;,
                    &quot;lua_type&quot;: &quot;((...) -&gt; ConnectionObject)?&quot;,
                    &quot;desc&quot;: &quot;&quot;
                },
                {
                    &quot;name&quot;: &quot;on&quot;,
                    &quot;lua_type&quot;: &quot;((...) -&gt; ConnectionObject)?&quot;,
                    &quot;desc&quot;: &quot;&quot;
                },
                {
                    &quot;name&quot;: &quot;connect&quot;,
                    &quot;lua_type&quot;: &quot;((...) -&gt; ConnectionObject)?&quot;,
                    &quot;desc&quot;: &quot;&quot;
                }
            ],
            &quot;source&quot;: {
                &quot;line&quot;: 94,
                &quot;path&quot;: &quot;lib/hooks/useEvent.lua&quot;
            }
        }
    ],
    &quot;name&quot;: &quot;Matter&quot;,
    &quot;desc&quot;: &quot;Matter. It&#x27;s what everything is made out of.&quot;,
    &quot;source&quot;: {
        &quot;line&quot;: 6,
        &quot;path&quot;: &quot;lib/init.lua&quot;
    }
}</pre></details></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#types" class="table-of-contents__link toc-highlight">Types</a><ul><li><a href="#ConnectionObject" class="table-of-contents__link toc-highlight">ConnectionObject</a></li><li><a href="#CustomEvent" class="table-of-contents__link toc-highlight">CustomEvent</a></li></ul></li><li><a href="#properties" class="table-of-contents__link toc-highlight">Properties</a><ul><li><a href="#Debugger" class="table-of-contents__link toc-highlight">Debugger</a></li><li><a href="#Loop" class="table-of-contents__link toc-highlight">Loop</a></li><li><a href="#None" class="table-of-contents__link toc-highlight">None</a></li><li><a href="#World" class="table-of-contents__link toc-highlight">World</a></li></ul></li><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a><ul><li><a href="#component" class="table-of-contents__link toc-highlight">.component</a></li><li><a href="#useDeltaTime" class="table-of-contents__link toc-highlight">.useDeltaTime</a></li><li><a href="#useEvent" class="table-of-contents__link toc-highlight">.useEvent</a></li><li><a href="#useHookState" class="table-of-contents__link toc-highlight">.useHookState</a></li><li><a href="#useThrottle" class="table-of-contents__link toc-highlight">.useThrottle</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 evaera. Built with Moonwave and Docusaurus.</div></div></div></footer></div>
<script src="/matter/assets/js/runtime~main.fb662bb0.js"></script>
<script src="/matter/assets/js/main.60a64e8e.js"></script>
</body>
</html>